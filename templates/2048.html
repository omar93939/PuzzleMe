{% extends "layout.html" %}

{% block head %}
    <script src="/static/2048/script.js" type="module"></script>
{% endblock %}

{% block title %}
    2048
{% endblock %}

{% block main %}
    <div id="site-container">
        <div id="above-game">
            <h1 class="title">2048</h1>
            <button onclick="setupGameBoard()" id="reset-2048">New Game</button>
        </div>
        <div id="game-container">
            <div id="game-message"></div>
            <div id="grid-container"></div>
        </div>

        {% if session["user_id"] %}
        <div id="history">
            <strong>History →</strong>
            <br>
            <br>
            <table class="table table-hover">
                <thead>
                    <tr>
                    <th scope="col">Game</th>
                    <th scope="col">Difficulty</th>
                    <th scope="col">DateTime</th>
                    </tr>
                </thead>
                <tbody>
        
                    {% for event in history %}
                        <tr>
                            <td>{{ event["game"] }}</td>
                            <td>{{ event["difficulty"] }}</td>
                            <td>{{ event["datetime"] }}</td>
                        </tr>
                    {% endfor %}
        
                </tbody>
            </table>
        </div>
        {% endif %}

        <div id="leaderboard2048">
            <strong>LeaderBoard →</strong>
            <br>
            <br>
            <table class="table table-hover">
                <thead>
                    <tr>
                    <th scope="col">Username</th>
                    <th scope="col">x2048</th>
                    </tr>
                </thead>
                <tbody>
        
                    {% for user in users %}
                        <tr>
                            <td>{{ user["username"] }}</td>
                            <td>{{ user["hard"] }}</td>
                        </tr>
                    {% endfor %}
        
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}
